CreateWithTimestamps_LockupDynamic_Integration_Concrete_Test
├── when delegate call
│  └── it should revert
└── when no delegate call
   ├── when sender is zero address
   │  └── it should revert
   └── when sender is not zero address
      ├── when recipient is zero address
      │  └── it should revert
      └── when recipient is not zero address
         ├── when deposit amount is zero
         │  └── it should revert
         └── when deposit amount is not zero
            ├── when start time is zero
            │  └── it should revert
            └── when start time is not zero
               ├── when segment count is zero
               │  └── it should revert
               └── when segment count is not zero
                  ├── when segment count is too high
                  │  └── it should revert
                  └── when segment count is not too high
                     ├── when segment amounts sum overflows
                     │  └── it should revert
                     └── when segment amounts sum does not overflow
                        ├── when start time is greater than first segment timestamp
                        │  └── it should revert
                        ├── when start time is equal to first segment timestamp
                        │  └── it should revert
                        └── when start time is less than first segment timestamp
                           ├── when segment timestamps are not ordered
                           │  └── it should revert
                           └── when segment timestamps are ordered
                              ├── when deposit amount not equal segment amounts sum
                              │  └── it should revert
                              └── when deposit amount not equals segment amounts sum
                                 ├── when broker fee is too high
                                 │  └── it should revert
                                 └── when broker fee is not too high
                                    ├── when asset is not contract
                                    │  └── it should revert
                                    └── when asset is contract
                                       ├── when asset misses ERC20 return value
                                       │  ├── it should create the stream
                                       │  ├── it should bump the next stream ID
                                       │  ├── it should mint the NFT
                                       │  ├── it should emit {CreateLockupDynamicStream} and {MetadataUpdate} events
                                       │  └── it should perform the ERC-20 transfers
                                       └── when asset does not miss ERC20 return value
                                          ├── it should create the stream
                                          ├── it should bump the next stream ID
                                          ├── it should mint the NFT
                                          ├── it should emit {CreateLockupDynamicStream} and {MetadataUpdate} events
                                          └── it should perform the ERC-20 transfers
