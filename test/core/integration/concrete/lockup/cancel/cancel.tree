Cancel_Integration_Concrete_Test
├── when delegate call
│  └── it should revert
└── when no delegate call
   ├── given null
   │  └── it should revert
   └── given not null
      ├── given stream is cold
      │  ├── given status is "DEPLETED"
      │  │  └── it should revert
      │  ├── given status is "CANCELED"
      │  │  └── it should revert
      │  └── given status is "SETTLED"
      │     └── it should revert
      └── given stream is warm
         ├── when unauthorized caller
         │  ├── when caller is malicious third party
         │  │  └── it should revert
         │  └── when caller is recipient
         │     └── it should revert
         └── when authorized caller
            ├── given non cancelable stream
            │  └── it should revert
            └── given cancelable stream
               ├── given status is "PENDING"
               │  ├── it should mark the stream as depleted
               │  └── it should make the stream not cancelable
               └── given status is "STREAMING"
                  ├── given recipient is not allowed to hook
                  │  ├── it should mark the stream as canceled
                  │  └── it should not make Sablier run the recipient hook
                  └── given recipient is allowed to hook
                     ├── when recipient reverts
                     │  └── it should revert the entire transaction
                     └── when recipient does not revert
                        ├── when recipient returns invalid selector
                        │  └── it should revert
                        └── when recipient returns valid selector
                           ├── when reentrancy
                           │  ├── it should mark the stream as depleted
                           │  ├── it should make Sablier run the recipient hook
                           │  ├── it should perform a reentrancy call to the Lockup contract
                           │  └── it should make the withdrawal via the reentrancy
                           └── when no reentrancy
                              ├── it should mark the stream as canceled
                              ├── it should make the stream as non cancelable
                              ├── it should update the refunded amount
                              ├── it should refund the sender
                              ├── it should make Sablier run the recipient hook
                              ├── it should not burn the NFT
                              └── it should emit {MetadataUpdate} and {CancelLockupStream} events
